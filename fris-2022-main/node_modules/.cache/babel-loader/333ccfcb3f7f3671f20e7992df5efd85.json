{"remainingRequest":"/Users/robbertjanssen/node_modules/babel-loader/lib/index.js!/Users/robbertjanssen/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/robbertjanssen/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/robbertjanssen/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/robbertjanssen/Desktop/RenM2023-1/fris-2022-main/src/components/Card.vue?vue&type=template&id=54cdc180&scoped=true","dependencies":[{"path":"/Users/robbertjanssen/Desktop/RenM2023-1/fris-2022-main/src/components/Card.vue","mtime":1673442555855},{"path":"/Users/robbertjanssen/Desktop/RenM2023-1/fris-2022-main/babel.config.js","mtime":1673442555760},{"path":"/Users/robbertjanssen/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/robbertjanssen/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/robbertjanssen/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":499162500000},{"path":"/Users/robbertjanssen/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/robbertjanssen/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgdG9EaXNwbGF5U3RyaW5nIGFzIF90b0Rpc3BsYXlTdHJpbmcsIGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlLCByZW5kZXJTbG90IGFzIF9yZW5kZXJTbG90LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2ssIGNyZWF0ZUNvbW1lbnRWTm9kZSBhcyBfY3JlYXRlQ29tbWVudFZOb2RlLCBwdXNoU2NvcGVJZCBhcyBfcHVzaFNjb3BlSWQsIHBvcFNjb3BlSWQgYXMgX3BvcFNjb3BlSWQgfSBmcm9tICJ2dWUiOwpjb25zdCBfd2l0aFNjb3BlSWQgPSBuID0+IChfcHVzaFNjb3BlSWQoImRhdGEtdi01NGNkYzE4MCIpLCBuID0gbigpLCBfcG9wU2NvcGVJZCgpLCBuKTsKY29uc3QgX2hvaXN0ZWRfMSA9IHsKICBjbGFzczogImNhcmQiCn07CmNvbnN0IF9ob2lzdGVkXzIgPSB7CiAgY2xhc3M6ICJidXR0b24tZ3JvdXAiCn07CmNvbnN0IF9ob2lzdGVkXzMgPSB7CiAga2V5OiAyLAogIGNsYXNzOiAiYnV0dG9uIG1haW4tYnV0dG9uIG1haW4tbG9hZGluZyIKfTsKY29uc3QgX2hvaXN0ZWRfNCA9IC8qI19fUFVSRV9fKi9fd2l0aFNjb3BlSWQoKCkgPT4gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsKICBjbGFzczogImxvYWRlciIKfSwgbnVsbCwgLTEgLyogSE9JU1RFRCAqLykpOwpjb25zdCBfaG9pc3RlZF81ID0gW19ob2lzdGVkXzRdOwpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzEsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJoMSIsIG51bGwsIF90b0Rpc3BsYXlTdHJpbmcoJHByb3BzLnRpdGxlKSwgMSAvKiBURVhUICovKSwgX3JlbmRlclNsb3QoX2N0eC4kc2xvdHMsICJkZWZhdWx0Iiwge30sIHVuZGVmaW5lZCwgdHJ1ZSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzIsIFskcHJvcHMucHJldkJ1dHRvbiA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImJ1dHRvbiIsIHsKICAgIGtleTogMCwKICAgIGNsYXNzOiAiYnV0dG9uIHByZXYtYnV0dG9uIiwKICAgIG9uQ2xpY2s6IF9jYWNoZVswXSB8fCAoX2NhY2hlWzBdID0gJGV2ZW50ID0+ICRvcHRpb25zLnJvdXRlVG8oJHByb3BzLnByZXZCdXR0b24ucGFnZSkpCiAgfSwgX3RvRGlzcGxheVN0cmluZygkcHJvcHMucHJldkJ1dHRvbi50aXRsZSksIDEgLyogVEVYVCAqLykpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpLCAkcHJvcHMuYnV0dG9uICYmICEkZGF0YS5sb2FkaW5nID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiYnV0dG9uIiwgewogICAga2V5OiAxLAogICAgY2xhc3M6ICJidXR0b24gbWFpbi1idXR0b24iLAogICAgb25DbGljazogX2NhY2hlWzFdIHx8IChfY2FjaGVbMV0gPSAkZXZlbnQgPT4gJG9wdGlvbnMucm91dGVUbygkcHJvcHMuYnV0dG9uLnBhZ2UpKQogIH0sIF90b0Rpc3BsYXlTdHJpbmcoJHByb3BzLmJ1dHRvbi50aXRsZSksIDEgLyogVEVYVCAqLykpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpLCAkcHJvcHMuYnV0dG9uICYmICRkYXRhLmxvYWRpbmcgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJidXR0b24iLCBfaG9pc3RlZF8zLCBfaG9pc3RlZF81KSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSldKV0pOwp9"},{"version":3,"mappings":";;;EACOA,KAAK,EAAC;AAAM;;EAGVA,KAAK,EAAC;AAAc;;;EAGfA,KAAK,EAAC;;gEACZC,oBAA0B;EAArBD,KAAK,EAAC;AAAQ;oBAAnBE,UAA0B;;uBAPhCC,oBAUM,OAVNC,UAUM,GATJH,oBAAoB,6BAAbI,YAAK,kBACZC,YAAaC,8CACbN,oBAMM,OANNO,UAMM,GALqCH,iBAAU,kBAAnDF,oBAA0H;;IAAlHH,KAAK,EAAC,oBAAoB;IAAwBS,OAAK,sCAAEC,gBAAO,CAACL,iBAAU,CAACM,IAAI;sBAAMN,iBAAU,CAACO,KAAK,uDACrEP,aAAM,KAAKQ,aAAO,kBAA3DV,oBAA0H;;IAAlHH,KAAK,EAAC,oBAAoB;IAAgCS,OAAK,sCAAEC,gBAAO,CAACL,aAAM,CAACM,IAAI;sBAAMN,aAAM,CAACO,KAAK,uDACxDP,aAAM,IAAIQ,aAAO,kBAAvEV,oBAES,UAFTW,UAES","names":["class","_createElementVNode","_hoisted_4","_createElementBlock","_hoisted_1","$props","_renderSlot","_ctx","_hoisted_2","onClick","$options","page","title","$data","_hoisted_3"],"sourceRoot":"","sources":["/Users/robbertjanssen/Desktop/RenM2023-1/fris-2022-main/src/components/Card.vue"],"sourcesContent":["<template>\n  <div class=\"card\">\n    <h1>{{ title }}</h1>\n    <slot></slot>\n    <div class=\"button-group\">\n      <button class=\"button prev-button\" v-if=\"prevButton\" v-on:click=\"routeTo(prevButton.page)\">{{ prevButton.title }}</button>\n      <button class=\"button main-button\" v-if=\"button && !loading\" v-on:click=\"routeTo(button.page)\">{{ button.title }}</button>\n      <button class=\"button main-button main-loading\" v-if=\"button && loading\">\n        <div class=\"loader\"></div>\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\n\nexport default {\n  name: 'Card',\n  props: {\n    title: String,\n    button: Object,\n    prevButton: Object,\n    people: Array,\n    questions: String,\n  },\n  data() {\n    return {\n      loading: false\n    }\n  },\n  methods: {\n    postDatabase(person, index) {\n      // Convert to snakecase\n      const payload = {}\n      for (const key in person) {\n        const snake_key = key.replace(/([A-Z])/g, \"_$1\").toLowerCase()\n        payload[snake_key] = person[key]\n        payload['group_name'] = this.$root.query.name\n        if (index === 0 && this.$props.questions) {\n          payload['questions_or_remarks'] = this.$props.questions\n        }\n      }\n      return axios.post('https://api.christian.surf/responses', payload)\n    },\n    async routeTo(page) {\n      if (!this.$props.people || page !== '/thanks') {\n        this.$root.currentRoute = page\n      } else {\n        this.loading = true\n        const promises = []\n        for (const [index, person] of this.$props.people.entries()) {\n          promises.push(this.postDatabase(person, index))\n        }\n        // Wait for all promises to resolve and redirect\n        Promise.all(promises)\n          .then(() => {\n            this.loading = false\n            this.$root.currentRoute = page\n          })\n          .catch(() => {\n            this.loading = false\n            window.alert('Sorry, het ging verschrikkelijk mis met het opsturen van deze van deze informatie. Controleer of je alle velden hebt ingevuld, probeer het nog eens, of stuur ons een mailtje!')\n          })\n      }\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.card {\n  background-color: #FFFFFF;\n  border-radius: 10px;\n  max-width: 500px;\n  margin: 0 auto 80px auto;\n  padding: 80px 50px 50px 50px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  font-size: 18px;\n}\n.button-group {\n  display: flex;\n  justify-content: center;\n}\n.button {\n  font-size: 20px;\n  font-weight: 400;\n  padding: 15px 20px 15px 20px;\n  margin-top: 20px;\n  border-radius: 5px;\n  text-decoration: none;\n  border: none;\n  align-self: center;\n  cursor: pointer;\n}\n.button + .button {\n  margin-left: 20px;\n}\n.main-button {\n  background-color: #41B883;\n  color: #FFFFFF;\n}\n.prev-button {\n  background-color: #E1E1E1;\n  color: #3C3C3C;\n}\n.loader {\n  border: 5px solid #f3f3f3;\n  border-radius: 50%;\n  border-top: 5px solid #868484;\n  width: 15px;\n  height: 15px;\n  -webkit-animation: spin 2s linear infinite; /* Safari */\n  animation: spin 2s linear infinite;\n  margin: 0 auto;\n}\n\n/* Safari */\n@-webkit-keyframes spin {\n  0% { -webkit-transform: rotate(0deg); }\n  100% { -webkit-transform: rotate(360deg); }\n}\n\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}\n.main-loading {\n  width: 120px;\n}\n</style>\n"]}]}