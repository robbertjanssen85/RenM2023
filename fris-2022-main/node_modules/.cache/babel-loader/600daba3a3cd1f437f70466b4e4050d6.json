{"remainingRequest":"/Users/robbertjanssen/node_modules/babel-loader/lib/index.js!/Users/robbertjanssen/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/robbertjanssen/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/robbertjanssen/Desktop/RenM2023-1/fris-2022-main/src/components/Card.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/robbertjanssen/Desktop/RenM2023-1/fris-2022-main/src/components/Card.vue","mtime":1670776475197},{"path":"/Users/robbertjanssen/Desktop/RenM2023-1/fris-2022-main/babel.config.js","mtime":1670776475175},{"path":"/Users/robbertjanssen/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/robbertjanssen/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/robbertjanssen/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/robbertjanssen/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQ2FyZCcsCiAgcHJvcHM6IHsKICAgIHRpdGxlOiBTdHJpbmcsCiAgICBidXR0b246IE9iamVjdCwKICAgIHByZXZCdXR0b246IE9iamVjdCwKICAgIHBlb3BsZTogQXJyYXksCiAgICBxdWVzdGlvbnM6IFN0cmluZwogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxvYWRpbmc6IGZhbHNlCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgcG9zdERhdGFiYXNlKHBlcnNvbiwgaW5kZXgpIHsKICAgICAgLy8gQ29udmVydCB0byBzbmFrZWNhc2UKICAgICAgY29uc3QgcGF5bG9hZCA9IHt9OwogICAgICBmb3IgKGNvbnN0IGtleSBpbiBwZXJzb24pIHsKICAgICAgICBjb25zdCBzbmFrZV9rZXkgPSBrZXkucmVwbGFjZSgvKFtBLVpdKS9nLCAiXyQxIikudG9Mb3dlckNhc2UoKTsKICAgICAgICBwYXlsb2FkW3NuYWtlX2tleV0gPSBwZXJzb25ba2V5XTsKICAgICAgICBwYXlsb2FkWydncm91cF9uYW1lJ10gPSB0aGlzLiRyb290LnF1ZXJ5Lm5hbWU7CiAgICAgICAgaWYgKGluZGV4ID09PSAwICYmIHRoaXMuJHByb3BzLnF1ZXN0aW9ucykgewogICAgICAgICAgcGF5bG9hZFsncXVlc3Rpb25zX29yX3JlbWFya3MnXSA9IHRoaXMuJHByb3BzLnF1ZXN0aW9uczsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoJ2h0dHBzOi8vYXBpLmNocmlzdGlhbi5zdXJmL3Jlc3BvbnNlcycsIHBheWxvYWQpOwogICAgfSwKICAgIGFzeW5jIHJvdXRlVG8ocGFnZSkgewogICAgICBpZiAoIXRoaXMuJHByb3BzLnBlb3BsZSB8fCBwYWdlICE9PSAnL3RoYW5rcycpIHsKICAgICAgICB0aGlzLiRyb290LmN1cnJlbnRSb3V0ZSA9IHBhZ2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgICBjb25zdCBwcm9taXNlcyA9IFtdOwogICAgICAgIGZvciAoY29uc3QgW2luZGV4LCBwZXJzb25dIG9mIHRoaXMuJHByb3BzLnBlb3BsZS5lbnRyaWVzKCkpIHsKICAgICAgICAgIHByb21pc2VzLnB1c2godGhpcy5wb3N0RGF0YWJhc2UocGVyc29uLCBpbmRleCkpOwogICAgICAgIH0KICAgICAgICAvLyBXYWl0IGZvciBhbGwgcHJvbWlzZXMgdG8gcmVzb2x2ZSBhbmQgcmVkaXJlY3QKICAgICAgICBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbigoKSA9PiB7CiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgIHRoaXMuJHJvb3QuY3VycmVudFJvdXRlID0gcGFnZTsKICAgICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgIHdpbmRvdy5hbGVydCgnU29ycnksIGhldCBnaW5nIHZlcnNjaHJpa2tlbGlqayBtaXMgbWV0IGhldCBvcHN0dXJlbiB2YW4gZGV6ZSB2YW4gZGV6ZSBpbmZvcm1hdGllLiBDb250cm9sZWVyIG9mIGplIGFsbGUgdmVsZGVuIGhlYnQgaW5nZXZ1bGQsIHByb2JlZXIgaGV0IG5vZyBlZW5zLCBvZiBzdHV1ciBvbnMgZWVuIG1haWx0amUhJyk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"mappings":";AAeA,OAAOA,KAAI,MAAO,OAAM;AAExB,eAAe;EACbC,IAAI,EAAE,MAAM;EACZC,KAAK,EAAE;IACLC,KAAK,EAAEC,MAAM;IACbC,MAAM,EAAEC,MAAM;IACdC,UAAU,EAAED,MAAM;IAClBE,MAAM,EAAEC,KAAK;IACbC,SAAS,EAAEN;EACb,CAAC;EACDO,IAAI,GAAG;IACL,OAAO;MACLC,OAAO,EAAE;IACX;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,YAAY,CAACC,MAAM,EAAEC,KAAK,EAAE;MAC1B;MACA,MAAMC,OAAM,GAAI,CAAC;MACjB,KAAK,MAAMC,GAAE,IAAKH,MAAM,EAAE;QACxB,MAAMI,SAAQ,GAAID,GAAG,CAACE,OAAO,CAAC,UAAU,EAAE,KAAK,CAAC,CAACC,WAAW,EAAC;QAC7DJ,OAAO,CAACE,SAAS,IAAIJ,MAAM,CAACG,GAAG;QAC/BD,OAAO,CAAC,YAAY,IAAI,IAAI,CAACK,KAAK,CAACC,KAAK,CAACtB,IAAG;QAC5C,IAAIe,KAAI,KAAM,KAAK,IAAI,CAACQ,MAAM,CAACd,SAAS,EAAE;UACxCO,OAAO,CAAC,sBAAsB,IAAI,IAAI,CAACO,MAAM,CAACd,SAAQ;QACxD;MACF;MACA,OAAOV,KAAK,CAACyB,IAAI,CAAC,sCAAsC,EAAER,OAAO;IACnE,CAAC;IACD,MAAMS,OAAO,CAACC,IAAI,EAAE;MAClB,IAAI,CAAC,IAAI,CAACH,MAAM,CAAChB,MAAK,IAAKmB,IAAG,KAAM,SAAS,EAAE;QAC7C,IAAI,CAACL,KAAK,CAACM,YAAW,GAAID,IAAG;MAC/B,OAAO;QACL,IAAI,CAACf,OAAM,GAAI,IAAG;QAClB,MAAMiB,QAAO,GAAI,EAAC;QAClB,KAAK,MAAM,CAACb,KAAK,EAAED,MAAM,KAAK,IAAI,CAACS,MAAM,CAAChB,MAAM,CAACsB,OAAO,EAAE,EAAE;UAC1DD,QAAQ,CAACE,IAAI,CAAC,IAAI,CAACjB,YAAY,CAACC,MAAM,EAAEC,KAAK,CAAC;QAChD;QACA;QACAgB,OAAO,CAACC,GAAG,CAACJ,QAAQ,EACjBK,IAAI,CAAC,MAAM;UACV,IAAI,CAACtB,OAAM,GAAI,KAAI;UACnB,IAAI,CAACU,KAAK,CAACM,YAAW,GAAID,IAAG;QAC/B,CAAC,EACAQ,KAAK,CAAC,MAAM;UACX,IAAI,CAACvB,OAAM,GAAI,KAAI;UACnBwB,MAAM,CAACC,KAAK,CAAC,gLAAgL;QAC/L,CAAC;MACL;IACF;EACF;AACF","names":["axios","name","props","title","String","button","Object","prevButton","people","Array","questions","data","loading","methods","postDatabase","person","index","payload","key","snake_key","replace","toLowerCase","$root","query","$props","post","routeTo","page","currentRoute","promises","entries","push","Promise","all","then","catch","window","alert"],"sourceRoot":"","sources":["/Users/robbertjanssen/Desktop/RenM2023-1/fris-2022-main/src/components/Card.vue"],"sourcesContent":["<template>\n  <div class=\"card\">\n    <h1>{{ title }}</h1>\n    <slot></slot>\n    <div class=\"button-group\">\n      <button class=\"button prev-button\" v-if=\"prevButton\" v-on:click=\"routeTo(prevButton.page)\">{{ prevButton.title }}</button>\n      <button class=\"button main-button\" v-if=\"button && !loading\" v-on:click=\"routeTo(button.page)\">{{ button.title }}</button>\n      <button class=\"button main-button main-loading\" v-if=\"button && loading\">\n        <div class=\"loader\"></div>\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\n\nexport default {\n  name: 'Card',\n  props: {\n    title: String,\n    button: Object,\n    prevButton: Object,\n    people: Array,\n    questions: String,\n  },\n  data() {\n    return {\n      loading: false\n    }\n  },\n  methods: {\n    postDatabase(person, index) {\n      // Convert to snakecase\n      const payload = {}\n      for (const key in person) {\n        const snake_key = key.replace(/([A-Z])/g, \"_$1\").toLowerCase()\n        payload[snake_key] = person[key]\n        payload['group_name'] = this.$root.query.name\n        if (index === 0 && this.$props.questions) {\n          payload['questions_or_remarks'] = this.$props.questions\n        }\n      }\n      return axios.post('https://api.christian.surf/responses', payload)\n    },\n    async routeTo(page) {\n      if (!this.$props.people || page !== '/thanks') {\n        this.$root.currentRoute = page\n      } else {\n        this.loading = true\n        const promises = []\n        for (const [index, person] of this.$props.people.entries()) {\n          promises.push(this.postDatabase(person, index))\n        }\n        // Wait for all promises to resolve and redirect\n        Promise.all(promises)\n          .then(() => {\n            this.loading = false\n            this.$root.currentRoute = page\n          })\n          .catch(() => {\n            this.loading = false\n            window.alert('Sorry, het ging verschrikkelijk mis met het opsturen van deze van deze informatie. Controleer of je alle velden hebt ingevuld, probeer het nog eens, of stuur ons een mailtje!')\n          })\n      }\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.card {\n  background-color: #FFFFFF;\n  border-radius: 10px;\n  max-width: 500px;\n  margin: 0 auto 80px auto;\n  padding: 80px 50px 50px 50px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  font-size: 18px;\n}\n.button-group {\n  display: flex;\n  justify-content: center;\n}\n.button {\n  font-size: 20px;\n  font-weight: 400;\n  padding: 15px 20px 15px 20px;\n  margin-top: 20px;\n  border-radius: 5px;\n  text-decoration: none;\n  border: none;\n  align-self: center;\n  cursor: pointer;\n}\n.button + .button {\n  margin-left: 20px;\n}\n.main-button {\n  background-color: #41B883;\n  color: #FFFFFF;\n}\n.prev-button {\n  background-color: #E1E1E1;\n  color: #3C3C3C;\n}\n.loader {\n  border: 5px solid #f3f3f3;\n  border-radius: 50%;\n  border-top: 5px solid #868484;\n  width: 15px;\n  height: 15px;\n  -webkit-animation: spin 2s linear infinite; /* Safari */\n  animation: spin 2s linear infinite;\n  margin: 0 auto;\n}\n\n/* Safari */\n@-webkit-keyframes spin {\n  0% { -webkit-transform: rotate(0deg); }\n  100% { -webkit-transform: rotate(360deg); }\n}\n\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}\n.main-loading {\n  width: 120px;\n}\n</style>\n"]}]}